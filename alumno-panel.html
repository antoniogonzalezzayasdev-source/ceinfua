<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Portal del alumno - Accede a tu informaci√≥n personal, seguimiento del semestre y recursos exclusivos de CEINFUA">
  <meta name="robots" content="noindex, nofollow">
  <title>Portal del alumno - CEINFUA</title>

  <!-- Fuentes modernas -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- CSS -->
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/panel-alumno.css">
</head>
<body>

  <!-- HEADER -->
  <header class="site-header">
    <div class="container nav-container">
      <div class="brand">
        <h1 class="brand-title">CEINFUA</h1>
        <p class="brand-subtitle">Portal del alumno</p>
      </div>

      <nav class="main-nav" id="mainNav" aria-label="Navegaci√≥n principal">
        <a href="index.html">Inicio</a>
        <a href="social.html">Social</a>
        <a href="#" id="nav-logout">Salir</a>
      </nav>

      <button class="theme-toggle" id="themeToggle" aria-label="Cambiar tema" type="button">
        üåô
      </button>
    </div>
  </header>

  <!-- CONTENIDO PRINCIPAL -->
  <main class="auth-main" id="inicio">
    <div class="container">

      <section class="auth-card">
        <!-- T√≠tulo din√°mico con nombre del alumno -->
        <h1 class="auth-title">
          Hola, <span id="alumnoNombre">Alumno</span> üëã
        </h1>
        
        <p class="auth-subtitle">
          Este es tu espacio dentro de CEINFUA. Ac√° vas a ver tus datos y herramientas para acompa√±arte en el semestre.
        </p>

        <!-- Saludo din√°mico seg√∫n hora del d√≠a -->
        <p id="saludoDinamico" class="auth-subtitle" role="status" aria-live="polite"></p>

        <!-- WIDGET DEL CLIMA -->
        <div class="widget-clima" id="widget-clima" role="region" aria-label="Informaci√≥n del clima">
          <div class="clima-icono" id="clima-icono" aria-hidden="true">‚õÖ</div>
          <div class="clima-textos">
            <p id="clima-temp" class="clima-temp">Cargando clima...</p>
            <p id="clima-msg" class="clima-msg"></p>
          </div>
        </div>

        <!-- GRID DE INFORMACI√ìN -->
        <div class="auth-grid">
          <div class="auth-column">

            <!-- MIS DATOS PERSONALES -->
            <h2 class="auth-column-title">üìã Mis datos</h2>

            <div class="form-card portal-card" role="region" aria-label="Informaci√≥n personal">
              <p>
                <strong>Nombre completo:</strong> 
                <span id="alumnoNombreCompleto">Cargando...</span>
              </p>
              <p>
                <strong>Correo:</strong> 
                <span id="alumnoCorreo">Cargando...</span>
              </p>
              <p>
                <strong>Semestre / curso:</strong> 
                <span id="alumnoSemestre">Cargando...</span>
              </p>
              <p>
                <strong>Estado de la cuenta:</strong>
                <span id="alumnoEstado" class="estado-badge">Aprobada</span>
              </p>

              <button id="logoutBtn" class="secondary-btn" type="button">
                Cerrar sesi√≥n
              </button>
            </div>

            <!-- FILA: Consejo + Estado del semestre -->
            <div class="portal-row">

              <!-- CONSEJO DEL D√çA -->
              <article class="form-card portal-card portal-card-half" role="region" aria-label="Consejo del d√≠a">
                <h3>üí° Consejo del d√≠a</h3>
                <p id="textoConsejo" class="muted">Cargando consejo...</p>
              </article>

              <!-- ESTADO DEL SEMESTRE (PREVIEW + DETALLE) -->
              <article class="form-card portal-card portal-card-half semestre-card" id="semestreCard">

                <!-- PREVIEW (Bot√≥n para abrir detalle) -->
                <button 
                  type="button" 
                  class="semestre-preview" 
                  id="semestreToggle" 
                  aria-expanded="false"
                  aria-controls="semestreDetalle"
                  aria-label="Abrir estado del semestre">
                  <div class="semestre-preview-main">
                    <span class="semestre-preview-title">üìÖ Estado del semestre</span>
                    <span class="semestre-preview-pill" id="semestrePreviewPill">En curso</span>
                  </div>
                  <p class="semestre-preview-text" id="semestrePreviewText">
                    Semana 1 ¬∑ Progreso 0%
                  </p>
                </button>

                <!-- DETALLE (Dropdown en desktop / Modal en m√≥vil) -->
                <div 
                  class="semestre-detalle" 
                  id="semestreDetalle" 
                  aria-hidden="true"
                  role="dialog"
                  aria-labelledby="semestre-dialog-title">

                  <!-- Bot√≥n cerrar (p√≠ldora flotante central) -->
                  <button 
                    class="cerrar-modal" 
                    id="cerrarSemestreBtn"
                    aria-label="Cerrar estado del semestre"
                    type="button">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                      <path 
                        d="M6 6 L18 18 M6 18 L18 6" 
                        stroke="currentColor" 
                        stroke-width="2.2" 
                        stroke-linecap="round" 
                        stroke-linejoin="round"/>
                    </svg>
                    <span>Cerrar</span>
                  </button>

                  <!-- T√≠tulo oculto para accesibilidad -->
                  <h3 id="semestre-dialog-title" class="sr-only">Configuraci√≥n del semestre</h3>

                  <!-- Texto informativo del semestre -->
                  <p id="textoRelojSemestre" class="muted reloj-semestre">
                    Configur√° las fechas de inicio y fin de tu semestre para ver tu progreso.
                  </p>

                  <!-- Campos de fecha -->
                  <div class="semestre-row">
                    <div class="semestre-field">
                      <label for="fechaInicioSemestre">Fecha de inicio</label>
                      <input 
                        type="date" 
                        id="fechaInicioSemestre"
                        aria-required="true"
                        aria-describedby="semestre-hint">
                    </div>
                    <div class="semestre-field">
                      <label for="fechaFinSemestre">Fecha de fin</label>
                      <input 
                        type="date" 
                        id="fechaFinSemestre"
                        aria-required="true"
                        aria-describedby="semestre-hint">
                    </div>
                  </div>

                  <!-- Acciones -->
                  <div class="semestre-actions">
                    <button 
                      type="button" 
                      id="guardarSemestreBtn" 
                      class="secondary-btn small-btn">
                      Guardar fechas
                    </button>
                    <p 
                      id="mensajeSemestre" 
                      class="semestre-hint muted" 
                      role="status" 
                      aria-live="polite"></p>
                  </div>

                  <p id="semestre-hint" class="sr-only">
                    Selecciona la fecha de inicio y fin de tu semestre para calcular el progreso autom√°ticamente
                  </p>

                  <!-- Barra de progreso -->
                  <div class="progreso-semestre" id="progresoSemestreWrapper">
                    <div class="progreso-semestre-barra" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
                      <div class="progreso-semestre-barra-fill" id="barraSemestre"></div>
                    </div>
                    <p id="textoSemestre" class="progreso-semestre-texto muted"></p>
                  </div>

                </div>
              </article>

            </div>
          </div>
        </div>

      </section>
    </div>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="container footer-grid">
      <div>
        <h3>CEINFUA</h3>
        <p>Centro de Estudiantes de Inform√°tica - Universidad Americana</p>
      </div>
      <div>
        <p class="muted">¬© CEINFUA. Todos los derechos reservados.</p>
      </div>
    </div>
  </footer>

  <!-- Scripts principales -->
  <script src="js/main.js"></script>
  <script src="js/alumno-panel.js"></script>

  <!-- Sistema de tema claro/oscuro -->
  <script>
    const themeToggle = document.getElementById("themeToggle");
    const savedTheme = localStorage.getItem("ceinfua-theme");

    // Aplicar tema guardado al cargar
    if (savedTheme === "dark") {
      document.documentElement.classList.add("dark-theme");
      if (themeToggle) themeToggle.textContent = "‚òÄÔ∏è";
    }

    // Toggle de tema
    if (themeToggle) {
      themeToggle.addEventListener("click", () => {
        const isDark = document.documentElement.classList.toggle("dark-theme");
        localStorage.setItem("ceinfua-theme", isDark ? "dark" : "light");
        themeToggle.textContent = isDark ? "‚òÄÔ∏è" : "üåô";
      });
    }
  </script>

  <!-- üí¨ TIDIO LIVE CHAT WIDGET -->
  <script src="//code.tidio.co/cy1w9k2fqxspalktrzoloumqoceaw1bv.js" async></script>

</body>
</html>